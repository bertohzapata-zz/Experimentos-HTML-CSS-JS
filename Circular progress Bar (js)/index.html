<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Curcular Progress Bar</title>
</head>
<body>
    <div class="circle"></div>
    <div class="shadowring"></div>
    <canvas height="200" width="200" class="counter">

    </canvas>

    <script>
    var counterHTML =  document.querySelector('.counter');
    var counter =counterHTML.getContext('2d');
    var no = 0; // Starting point
    var pointToFill = 4.72; // Pont from where you want to fill the circle
    var cw = counter.canvas.width;
    var ch = counter.canvas.height;
    var diff; //find the different between current value (no) and trageted value (100)

    /* counterHTML.addEventListener('mouseenter', function() {
        counter.canvas.width = 250;
        counter.canvas.height = 250;
        console.log('Hola');
    });
    counterHTML.addEventListener('mouseleave', function() {
        counter.canvas.width = 200;
        counter.canvas.height = 200;
        console.log('Hola');
    }); */
    
    function fillCounter(){
        diff = ((no / 100) * Math.PI * 2 * 10);
        counter.clearRect(0, 0, cw, ch); //Clear canvas every time when function is call
    
        counter.lineWidth = 15; // size of stroke

        counter.fillStyle = 'red'; // color that you want to fill in counter/circle
        
        counter.strokeStyle = '#f5e0a9' // stroke color

        counter.textAlign = 'center';

        counter.font = '25px monospace'; 

        counter.fillText(no+ "%", 100, 100); //fillText(text, x, y);

        counter.beginPath();
        counter.arc(100, 100, 90, pointToFill, diff/10 + pointToFill); //arc(x, y, radius, start, stop)

        counter.stroke(); //to fill stroke

        // now add condition

        if (no >= 100) {
            clearTimeout(fill) // fill is a variable that call the function fillcounter()
        }
        no++;
    }

    // now the call function
    var fill = setInterval(fillCounter, 20); // call the fillCounter function after every 50ms




    </script>
</body>
</html>